<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Spotify for Animals - Scrollable Themes with Right Sidebar Dashboard
  </title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

  /* Reset and base */
  :root {
    --color-bg: #121212;
    --color-bg-secondary: #181818;
    --color-border: #282828;
    --color-text: #fff;
    --color-text-secondary: #b3b3b3;
    --color-accent: #1db954;
    --color-progress: #535353;
    --font-family: 'Inter', sans-serif;
    --font-size-base: 14px;
    --font-size-small: 12px;
    --font-size-large: 20px;
    --border-radius: 4px;
    --transition: all 0.2s ease;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: var(--font-family);
    font-size: var(--font-size-base);
    line-height: 1.4;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  button {
    background: none;
    border: none;
    cursor: pointer;
  }

  /* Common Components */
  .progress-bar {
    background-color: var(--color-progress);
    border-radius: var(--border-radius);
    position: relative;
    cursor: pointer;
    transition: var(--transition);
  }

  .progress-bar .progress {
    background-color: var(--color-accent);
    border-radius: var(--border-radius);
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
  }

  .controls {
    display: flex;
    align-items: center;
    gap: 16px;
    color: var(--color-text-secondary);
  }

  .controls button,
  .controls i {
    cursor: pointer;
    transition: var(--transition);
  }

  .controls button:hover,
  .controls i:hover {
    color: var(--color-text);
  }

  .play-btn {
    width: 48px;
    height: 48px;
    background-color: var(--color-accent);
    color: #000;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    transition: var(--transition);
  }

  .play-btn:hover {
    background-color: #17a44c;
    transform: scale(1.05);
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--color-bg);
  }

  ::-webkit-scrollbar-thumb {
    background-color: var(--color-progress);
    border-radius: var(--border-radius);
  }

  /* Layout Structure */
  .app {
    display: grid;
    grid-template-columns: auto 1fr auto;
    grid-template-rows: 1fr 90px;
    grid-template-areas:
      "sidebar main dashboard"
      "footer footer footer";
    height: 100vh;
    background-color: var(--color-bg);
  }

  /* Main Content Area */
  .main {
    grid-area: main;
    overflow-y: auto;
    background: linear-gradient(180deg, var(--color-bg) 0%, #000000 100%);
    transition: margin 0.3s ease;
  }

  /* Sidebar and Dashboard States */
  .sidebar,
  .dashboard {
    position: relative;
    height: 100%;
    transition: transform 0.3s ease, width 0.3s ease;
  }

  .sidebar {
    grid-area: sidebar;
    background-color: var(--color-bg);
    border-right: 1px solid var(--color-border);
    width: 240px;
    min-width: 240px;
    max-width: 400px;
    z-index: 100;
  }

  .dashboard {
    grid-area: dashboard;
    background-color: var(--color-bg-secondary);
    border-left: 1px solid var(--color-border);
    width: 300px;
    min-width: 300px;
    max-width: 500px;
    z-index: 100;
  }

  /* Resize Handles */
  .resize-handle {
    position: absolute;
    top: 0;
    width: 4px;
    height: 100%;
    background-color: transparent;
    cursor: col-resize;
    transition: background-color 0.2s;
    z-index: 101;
  }

  .resize-handle:hover,
  .resize-handle.active {
    background-color: var(--color-accent);
  }

  .sidebar .resize-handle {
    right: -2px;
  }

  .dashboard .resize-handle {
    left: -2px;
  }

  /* Toggle States */
  .sidebar.hidden {
    transform: translateX(-100%);
    margin-right: -240px;
  }

  .dashboard.hidden {
    transform: translateX(100%);
    margin-left: -300px;
  }

  .dashboard.visible {
    transform: translateX(0);
  }

  /* Toggle Buttons */
  .toggle-btn {
    position: fixed;
    width: 32px;
    height: 32px;
    background-color: var(--color-bg-secondary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1001;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .toggle-btn:hover {
    background-color: var(--color-border);
    transform: scale(1.1);
  }

  .sidebar-toggle {
    top: 16px;
    left: 16px;
  }

  .dashboard-toggle {
    bottom: 100px;
    right: 16px;
  }

  /* Footer Player */
  .footer {
    grid-area: footer;
    grid-column: 1 / -1;
    background-color: var(--color-bg-secondary);
    border-top: 1px solid var(--color-border);
    padding: 0 16px;
    height: 90px;
    display: grid;
    grid-template-columns: 30% 40% 30%;
    align-items: center;
    z-index: 100;
  }

  /* Now Playing Section */
  .now-playing {
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 180px;
    max-width: 100%;
  }

  .now-playing img {
    width: 56px;
    height: 56px;
    object-fit: cover;
    border-radius: 4px;
  }

  .now-playing-info {
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .now-playing-info .title {
    font-weight: 700;
    font-size: 14px;
    color: var(--color-text);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .now-playing-info .subtitle {
    font-size: 12px;
    color: var(--color-text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Player Controls Section */
  .player-controls {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    width: 100%;
  }

  .control-buttons {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    margin-bottom: 8px;
  }

  .control-buttons button {
    color: var(--color-text);
    font-size: 16px;
    opacity: 0.7;
    transition: all 0.2s;
  }

  .control-buttons button:hover {
    opacity: 1;
    transform: scale(1.1);
  }

  .control-buttons .play-pause {
    width: 32px;
    height: 32px;
    background-color: var(--color-text);
    border-radius: 50%;
    color: var(--color-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
  }

  .progress-container {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .progress-container .time {
    font-size: 11px;
    color: var(--color-text-secondary);
    min-width: 40px;
    text-align: center;
  }

  .progress-bar {
    flex: 1;
    height: 4px;
    background-color: var(--color-progress);
    border-radius: 2px;
    cursor: pointer;
    position: relative;
  }

  .progress-bar .progress {
    height: 100%;
    background-color: var(--color-text);
    border-radius: 2px;
    position: relative;
  }

  .progress-bar:hover .progress {
    background-color: var(--color-accent);
  }

  .progress-bar:hover::after {
    content: '';
    position: absolute;
    right: 0;
    top: 50%;
    transform: translate(50%, -50%);
    width: 12px;
    height: 12px;
    background-color: var(--color-text);
    border-radius: 50%;
  }

  /* Extra Controls Section */
  .extra-controls {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 16px;
  }

  .extra-controls button {
    color: var(--color-text-secondary);
    font-size: 16px;
    opacity: 0.7;
    transition: all 0.2s;
  }

  .extra-controls button:hover {
    opacity: 1;
    color: var(--color-text);
  }

  .volume-container {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 125px;
  }

  .volume-bar {
    flex: 1;
    height: 4px;
    background-color: var(--color-progress);
    border-radius: 2px;
    cursor: pointer;
    position: relative;
  }

  .volume-bar .volume {
    height: 100%;
    background-color: var(--color-text);
    border-radius: 2px;
    width: 50%;
  }

  .volume-bar:hover .volume {
    background-color: var(--color-accent);
  }

  /* Responsive Design */
  @media (max-width: 1200px) {
    .dashboard {
      position: fixed;
      right: 0;
      top: 0;
      bottom: 90px;
      transform: translateX(100%);
    }
    
    .dashboard.hidden {
      transform: translateX(100%);
    }
    
    .dashboard.visible {
      transform: translateX(0);
    }
  }

  @media (max-width: 768px) {
    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 90px;
      transform: translateX(-100%);
    }
    
    .sidebar.hidden {
      transform: translateX(-100%);
    }
    
    .sidebar.visible {
      transform: translateX(0);
    }
  }

  /* Sidebar */
  .sidebar-header {
    height: 56px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 16px;
  }
  .sidebar-header img {
    width: 24px;
    height: 24px;
  }
  .library {
    flex: 1;
    overflow-y: auto;
    padding: 16px 12px 0 16px;
    position: relative;
    min-height: 200px;
    resize: vertical;
    overflow: auto;
  }
  .library::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 4px;
    background-color: var(--color-border);
    cursor: row-resize;
  }
  .library h3 {
    font-weight: 700;
    font-size: 14px;
    margin: 0 0 12px 0;
  }
  .library-controls {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
  }
  .library-controls button {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background-color: #282828;
    color: #b3b3b3;
    font-size: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .library-controls button:hover {
    color: #fff;
  }
  .library-nav {
    display: flex;
    gap: 24px;
    font-weight: 600;
    font-size: 13px;
    color: #b3b3b3;
    margin-bottom: 12px;
  }
  .library-nav span {
    cursor: pointer;
  }
  .library-nav span:hover {
    color: #fff;
  }
  .search-recents {
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: #b3b3b3;
    font-size: 12px;
    margin-bottom: 12px;
  }
  .search-recents i {
    cursor: pointer;
  }
  .playlist-list {
    list-style: none;
    padding: 0;
    margin: 0;
    position: relative;
    z-index: 1;
  }
  .playlist-item {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    cursor: pointer;
  }
  .playlist-item img {
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: 4px;
  }
  .playlist-info {
    display: flex;
    flex-direction: column;
    font-size: 13px;
    color: #b3b3b3;
  }
  .playlist-item.active .playlist-info > .title {
    color: #1db954;
    font-weight: 700;
  }
  .playlist-item.active .playlist-info > .subtitle {
    color: #535353;
  }
  .playlist-item .title {
    font-weight: 700;
    color: #fff;
  }
  .playlist-item .subtitle {
    font-size: 11px;
    color: #b3b3b3;
  }
  .playlist-item .arrow {
    margin-left: auto;
    color: #535353;
    font-size: 14px;
  }

  /* Header */
  .header {
    grid-area: header;
    background-color: #121212;
    border-bottom: 1px solid #282828;
    display: flex;
    align-items: center;
    padding: 0 16px;
    gap: 16px;
  }
  .header .home-btn {
    width: 32px;
    height: 32px;
    background-color: #282828;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 18px;
    cursor: pointer;
  }
  .header .search-container {
    flex: 1;
    position: relative;
  }
  .header input[type="search"] {
    width: 100%;
    height: 32px;
    border-radius: 16px;
    border: none;
    padding: 0 40px 0 40px;
    background-color: #282828;
    color: #b3b3b3;
    font-size: 14px;
  }
  .header input[type="search"]::placeholder {
    color: #b3b3b3;
  }
  .header .search-icon {
    position: absolute;
    top: 50%;
    left: 12px;
    transform: translateY(-50%);
    color: #b3b3b3;
    font-size: 16px;
  }
  .header .search-clear {
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);
    color: #b3b3b3;
    font-size: 16px;
    cursor: pointer;
  }
  .header .install-app {
    font-weight: 700;
    font-size: 13px;
    color: #b3b3b3;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .header .install-app:hover {
    color: #fff;
  }
  .header .bell-icon {
    font-size: 18px;
    color: #b3b3b3;
    cursor: pointer;
  }
  .header .profile-pic {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    object-fit: cover;
    cursor: pointer;
  }

  /* Main content */
  .tabs {
    display: flex;
    gap: 24px;
    margin-bottom: 16px;
  }
  .tab {
    font-weight: 600;
    font-size: 13px;
    color: #b3b3b3;
    cursor: pointer;
  }
  .tab.active {
    color: #fff;
  }
  .playlist-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 12px 24px;
    margin-bottom: 24px;
  }
  .playlist-grid .playlist-item-main {
    display: flex;
    gap: 12px;
    cursor: pointer;
  }
  .playlist-grid .playlist-item-main img {
    width: 48px;
    height: 48px;
    object-fit: cover;
    border-radius: 4px;
  }
  .playlist-grid .playlist-info-main {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .playlist-grid .playlist-info-main .title {
    font-weight: 700;
    font-size: 13px;
    color: #fff;
  }
  .playlist-grid .playlist-info-main .subtitle {
    font-size: 12px;
    color: #b3b3b3;
  }

  /* Section heading */
  .section-heading {
    font-weight: 700;
    font-size: 20px;
    margin-bottom: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .section-heading .show-all {
    font-weight: 600;
    font-size: 13px;
    color: #535353;
    cursor: pointer;
  }
  .section-heading .show-all:hover {
    color: #1db954;
  }

  /* New Animal Music Friday horizontal scroll container */
  .new-music-scroll-container {
    position: relative;
    overflow-x: auto;
    width: 100%;
    padding-bottom: 12px;
    margin-bottom: 32px;
  }
  .new-music-scroll-container::-webkit-scrollbar {
    height: 8px;
  }
  .new-music-scroll-container::-webkit-scrollbar-track {
    background: #121212;
  }
  .new-music-scroll-container::-webkit-scrollbar-thumb {
    background-color: #535353;
    border-radius: 4px;
  }
  .new-music-scroll-wrapper {
    display: flex;
    gap: 16px;
    width: max-content;
    position: relative;
    z-index: 1;
  }
  .new-music-card {
    flex: 0 0 auto;
    width: 140px;
    background-color: #181818;
    border-radius: 6px;
    overflow: hidden;
    cursor: pointer;
  }
  .new-music-card img {
    width: 100%;
    height: 120px;
    object-fit: cover;
  }
  .new-music-card .card-footer {
    padding: 8px 8px 12px 8px;
    font-weight: 700;
    font-size: 13px;
    color: #fff;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Dashboard on right sidebar */
  .dashboard h2 {
    font-weight: 700;
    font-size: 22px;
    margin-bottom: 16px;
  }
  .dashboard .cover-large {
    width: 280px;
    height: 280px;
    border-radius: 12px;
    object-fit: cover;
    margin-bottom: 16px;
    box-shadow: 0 0 20px #1db954aa;
  }
  .dashboard .song-title {
    font-weight: 700;
    font-size: 20px;
    margin-bottom: 8px;
    text-align: center;
  }
  .dashboard .song-artist {
    font-size: 16px;
    color: #b3b3b3;
    margin-bottom: 24px;
    text-align: center;
  }
  .dashboard .progress-bar-container {
    width: 100%;
  }
  .dashboard .progress-bar {
    height: 6px;
    background-color: #535353;
    border-radius: 3px;
    position: relative;
    cursor: pointer;
  }
  .dashboard .progress-bar .progress {
    height: 6px;
    background-color: #1db954;
    border-radius: 3px;
    width: 40%;
  }
  .dashboard .time {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: #b3b3b3;
    font-weight: 600;
    margin-top: 4px;
  }
  .dashboard .controls {
    margin-top: 24px;
    display: flex;
    justify-content: center;
    gap: 24px;
    color: #b3b3b3;
    font-size: 24px;
  }
  .dashboard .controls button,
  .dashboard .controls i {
    cursor: pointer;
  }
  .dashboard .controls .play-btn {
    width: 48px;
    height: 48px;
    background-color: #1db954;
    color: #000;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
  }
  .dashboard .controls .play-btn:hover {
    background-color: #17a44c;
  }

  /* Right sidebar extra info */
  .rightbar {
    display: none;
  }

  /* Accessibility Improvements */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Focus styles */
  :focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  /* Loading states */
  .loading {
    position: relative;
    overflow: hidden;
  }

  .loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.1),
      transparent
    );
    animation: loading 1.5s infinite;
  }

  @keyframes loading {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  /* Drag Handle Styles */
  .drag-handle {
    position: absolute;
    background-color: var(--color-border);
    cursor: col-resize;
    z-index: 1000;
  }

  .sidebar .drag-handle {
    right: 0;
    top: 0;
    bottom: 0;
    width: 4px;
  }

  .dashboard .drag-handle {
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
  }

  /* Resizable Content */
  .resizable-content {
    position: relative;
    min-height: 100px;
    resize: vertical;
    overflow: auto;
  }

  .resizable-content::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 4px;
    background-color: var(--color-border);
    cursor: row-resize;
  }

  /* Prevent text selection during drag */
  .no-select {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }
  </style>
 </head>
 <body>
  <div aria-label="Spotify for Animals web app" class="app" role="main">
    <!-- Sidebar Toggle -->
    <button class="sidebar-toggle" aria-label="Toggle sidebar" id="sidebarToggle">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Dashboard Toggle -->
    <button class="dashboard-toggle" aria-label="Toggle dashboard" id="dashboardToggle">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Mobile Navigation Toggle -->
    <button class="mobile-nav-toggle" aria-label="Toggle navigation" id="mobileNavToggle">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Left Sidebar -->
    <aside aria-label="Sidebar navigation" class="sidebar" id="sidebar">
     <div aria-label="Spotify for Animals logo" class="sidebar-header">
      <img alt="Green paw print icon on black circle background" height="24" src="https://storage.googleapis.com/a1aa/image/823e50a5-556c-4c03-608e-c8d5fbf1c87d.jpg" width="24"/>
     </div>
     <div aria-label="Your Library" class="library">
      <h3>
       Your Library
      </h3>
      <div aria-label="Library controls" class="library-controls" role="group">
       <button aria-label="Add new playlist" title="Add new playlist">
        <i class="fas fa-plus">
        </i>
       </button>
       <button aria-label="Go forward" title="Go forward">
        <i class="fas fa-arrow-right">
        </i>
       </button>
      </div>
      <div aria-label="Library navigation tabs" class="library-nav" role="tablist">
       <span aria-selected="false" role="tab" tabindex="0">
        Playlists
       </span>
       <span aria-selected="false" role="tab" tabindex="-1">
        Artists
       </span>
       <span aria-selected="false" role="tab" tabindex="-1">
        Albums
       </span>
      </div>
      <div class="search-recents">
       <i aria-hidden="true" class="fas fa-search">
       </i>
       <span>
        Recents
       </span>
       <i aria-hidden="true" class="fas fa-list">
       </i>
      </div>
      <ul aria-label="Playlist list" class="playlist-list" role="list">
       <li aria-label="My animal playlists, 5 playlists" class="playlist-item" role="listitem" tabindex="0" draggable="true" data-id="playlist-1">
        <img alt="Folder icon representing my playlists" height="40" src="https://storage.googleapis.com/a1aa/image/263ef245-8dbd-4f03-145a-ff9901a0163e.jpg" width="40"/>
        <div class="playlist-info">
         <span class="title">
          my animal playlists
         </span>
         <span class="subtitle">
          5 playlists
         </span>
        </div>
        <i aria-hidden="true" class="fas fa-chevron-right arrow">
        </i>
       </li>
       <li aria-label="Alligator Anthems playlist, Spotify playlist" class="playlist-item active" role="listitem" tabindex="0" draggable="true" data-id="playlist-2">
        <img alt="Alligator Anthems playlist cover with green alligator cartoon on blue background" height="40" src="https://storage.googleapis.com/a1aa/image/80ba4c86-7041-4e79-0d10-2eac465b61b1.jpg" width="40"/>
        <div class="playlist-info">
         <span class="title" style="color:#1db954;">
          Alligator Anthems
         </span>
         <span class="subtitle">
          Playlist · Spotify
         </span>
        </div>
        <i aria-hidden="true" class="fas fa-chevron-right arrow">
        </i>
       </li>
       <li aria-label="Zebra Beats album by Zebra" class="playlist-item" role="listitem" tabindex="0">
        <img alt="Zebra Beats album cover with zebra stripes pattern" height="40" src="https://storage.googleapis.com/a1aa/image/b2f60dc8-27be-42a0-3f4c-99dee8029d63.jpg" width="40"/>
        <div class="playlist-info">
         <span class="title">
          Zebra Beats
         </span>
         <span class="subtitle">
          Album · Zebra
         </span>
        </div>
        <i aria-hidden="true" class="fas fa-chevron-right arrow">
        </i>
       </li>
       <li aria-label="Cat Vibes playlist, Spotify playlist" class="playlist-item" role="listitem" tabindex="0">
        <img alt="Cat Vibes playlist cover with orange cat cartoon" height="40" src="https://storage.googleapis.com/a1aa/image/6399d966-001a-4dac-7fba-f26c1c5e9bdc.jpg" width="40"/>
        <div class="playlist-info">
         <span class="title">
          Cat Vibes
         </span>
         <span class="subtitle">
          Playlist · Spotify
         </span>
        </div>
        <i aria-hidden="true" class="fas fa-chevron-right arrow">
        </i>
       </li>
       <li aria-label="Doja Cat Tunes artist" class="playlist-item" role="listitem" tabindex="0">
        <img alt="Doja Cat artist photo cartoon style" height="40" src="https://storage.googleapis.com/a1aa/image/83a8cc40-6a66-499b-ec44-52f907b9d7ed.jpg" width="40"/>
        <div class="playlist-info">
         <span class="title">
          Doja Cat Tunes
         </span>
         <span class="subtitle">
          Artist
         </span>
        </div>
        <i aria-hidden="true" class="fas fa-chevron-right arrow">
        </i>
       </li>
       <li aria-label="Focus Studying Mix playlist" class="playlist-item" role="listitem" tabindex="0">
        <img alt="Focus Studying Mix playlist cover with orange pattern" height="40" src="https://storage.googleapis.com/a1aa/image/a4749345-2e4d-4076-ddf6-df399532d439.jpg" width="40"/>
        <div class="playlist-info">
         <span class="title">
          Focus Studying Mix
         </span>
        </div>
        <i aria-hidden="true" class="fas fa-chevron-right arrow">
        </i>
       </li>
      </ul>
     </div>
    </aside>

    <!-- Main Content -->
    <main class="main" role="main">
     <!-- New Animal Music Friday -->
     <section aria-label="New Animal Music Friday section">
      <div class="section-heading">
       <h2>
        It's New Animal Music Friday!
       </h2>
       <span aria-label="Show all new music" class="show-all" role="button" tabindex="0">
        Show all
       </span>
      </div>
      <div class="new-music-scroll-container" aria-label="Scrollable new animal music albums">
       <div class="new-music-scroll-wrapper" tabindex="0" aria-live="polite" aria-atomic="true">
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-1" data-title="Alligator Grooves" data-artist="Tyler the Alligator" data-img="https://storage.googleapis.com/a1aa/image/78e5d89b-1e1e-4e22-a93c-b6d58d20ecc3.jpg" data-song="Swamp Beat">
         <img alt="New animal music album cover with alligator cartoon portrait" height="120" src="https://storage.googleapis.com/a1aa/image/78e5d89b-1e1e-4e22-a93c-b6d58d20ecc3.jpg" width="140"/>
         <div class="card-footer">
          Alligator Grooves
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-2" data-title="Zebra Stripes" data-artist="Zebra Band" data-img="https://storage.googleapis.com/a1aa/image/fcb084fb-1d00-4d22-6f10-70635076db45.jpg" data-song="Zebra Rhythm">
         <img alt="New animal music album cover with zebra stripes pattern" height="120" src="https://storage.googleapis.com/a1aa/image/fcb084fb-1d00-4d22-6f10-70635076db45.jpg" width="140"/>
         <div class="card-footer">
          Zebra Stripes
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-3" data-title="Tyler's Tunes" data-artist="Tyler the Alligator" data-img="https://storage.googleapis.com/a1aa/image/1f864175-c39d-4dbf-a70a-359cfdf492bf.jpg" data-song="Swamp Funk">
         <img alt="New animal music album cover with alligator portrait on turquoise background" height="120" src="https://storage.googleapis.com/a1aa/image/1f864175-c39d-4dbf-a70a-359cfdf492bf.jpg" width="140"/>
         <div class="card-footer">
          Tyler's Tunes
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-4" data-title="Doja Cat Hits" data-artist="Doja Cat" data-img="https://storage.googleapis.com/a1aa/image/58454216-6880-4d4d-1f93-cfede9943c85.jpg" data-song="Cat Vibes">
         <img alt="New animal music album cover with cat portrait on pink background" height="120" src="https://storage.googleapis.com/a1aa/image/58454216-6880-4d4d-1f93-cfede9943c85.jpg" width="140"/>
         <div class="card-footer">
          Doja Cat Hits
         </div>
        </div>
       </div>
      </div>
     </section>

     <!-- Based on Your Mood -->
     <section aria-label="Based on Your Mood section">
      <div class="section-heading">
       <h2>
        Based on Your Mood
       </h2>
       <span aria-label="Show all mood playlists" class="show-all" role="button" tabindex="0">
        Show all
       </span>
      </div>
      <div class="new-music-scroll-container" aria-label="Scrollable mood playlists">
       <div class="new-music-scroll-wrapper" tabindex="0" aria-live="polite" aria-atomic="true">
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-5" data-title="Angry Roar" data-artist="Roaring Lion" data-img="https://storage.googleapis.com/a1aa/image/1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d.jpg" data-song="Roar Anthem">
         <img alt="Angry Roar playlist cover with roaring lion" height="120" src="https://storage.googleapis.com/a1aa/image/1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d.jpg" width="140"/>
         <div class="card-footer">
          Angry Roar
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-6" data-title="Peaceful Birds" data-artist="Bird Chorus" data-img="https://storage.googleapis.com/a1aa/image/2b3c4d5e-6f7a-8b9c-0d1e-2f3a4b5c6d7e.jpg" data-song="Birdsong Peace">
         <img alt="Peaceful Birds playlist cover with birds flying" height="120" src="https://storage.googleapis.com/a1aa/image/2b3c4d5e-6f7a-8b9c-0d1e-2f3a4b5c6d7e.jpg" width="140"/>
         <div class="card-footer">
          Peaceful Birds
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-7" data-title="Energetic Paws" data-artist="Various Animals" data-img="https://storage.googleapis.com/a1aa/image/3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f.jpg" data-song="Paws Up">
         <img alt="Energetic Paws playlist cover with playful animals" height="120" src="https://storage.googleapis.com/a1aa/image/3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f.jpg" width="140"/>
         <div class="card-footer">
          Energetic Paws
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-8" data-title="Calm Waters" data-artist="Water Sounds" data-img="https://storage.googleapis.com/a1aa/image/4d5e6f7a-8b9c-0d1e-2f3a-4b5c6d7e8f9a.jpg" data-song="Water Flow">
         <img alt="Calm Waters playlist cover with water ripples" height="120" src="https://storage.googleapis.com/a1aa/image/4d5e6f7a-8b9c-0d1e-2f3a-4b5c6d7e8f9a.jpg" width="140"/>
         <div class="card-footer">
          Calm Waters
         </div>
        </div>
       </div>
      </div>
     </section>

     <!-- Spotify Made Playlists -->
     <section aria-label="Playlists made by Spotify" style="margin-bottom: 32px;">
      <div class="section-heading">
       <h2>
        Playlists Made by Spotify
       </h2>
       <span aria-label="Show all Spotify playlists" class="show-all" role="button" tabindex="0">
        Show all
       </span>
      </div>
      <div class="new-music-scroll-container" aria-label="Scrollable Spotify playlists">
       <div class="new-music-scroll-wrapper" tabindex="0" aria-live="polite" aria-atomic="true">
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-9" data-title="Jungle Beats" data-artist="Spotify" data-img="https://storage.googleapis.com/a1aa/image/5e6f7a8b-9c0d-1e2f-3a4b-5c6d7e8f9a0b.jpg" data-song="Jungle Rhythm">
         <img alt="Jungle Beats playlist cover with jungle animals" height="120" src="https://storage.googleapis.com/a1aa/image/5e6f7a8b-9c0d-1e2f-3a4b-5c6d7e8f9a0b.jpg" width="140"/>
         <div class="card-footer">
          Jungle Beats
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-10" data-title="Ocean Waves" data-artist="Spotify" data-img="https://storage.googleapis.com/a1aa/image/6f7a8b9c-0d1e-2f3a-4b5c-6d7e8f9a0b1c.jpg" data-song="Ocean Flow">
         <img alt="Ocean Waves playlist cover with ocean and dolphins" height="120" src="https://storage.googleapis.com/a1aa/image/6f7a8b9c-0d1e-2f3a-4b5c-6d7e8f9a0b1c.jpg" width="140"/>
         <div class="card-footer">
          Ocean Waves
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-11" data-title="Forest Chill" data-artist="Spotify" data-img="https://storage.googleapis.com/a1aa/image/7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d.jpg" data-song="Forest Breeze">
         <img alt="Forest Chill playlist cover with forest and birds" height="120" src="https://storage.googleapis.com/a1aa/image/7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d.jpg" width="140"/>
         <div class="card-footer">
          Forest Chill
         </div>
        </div>
        <div class="new-music-card" tabindex="0" draggable="true" data-id="card-12" data-title="Night Howl" data-artist="Spotify" data-img="https://storage.googleapis.com/a1aa/image/8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e.jpg" data-song="Moonlight Howl">
         <img alt="Night Howl playlist cover with wolf howling at moon" height="120" src="https://storage.googleapis.com/a1aa/image/8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e.jpg" width="140"/>
         <div class="card-footer">
          Night Howl
         </div>
        </div>
       </div>
      </div>
     </section>
    </main>

    <!-- Right Dashboard -->
    <aside aria-label="Now playing dashboard" class="dashboard" id="dashboard">
     <h2 id="dashboardTitle">Now Playing</h2>
     <img alt="Now playing album cover" class="cover-large" id="dashboardCover" src="https://storage.googleapis.com/a1aa/image/80ba4c86-7041-4e79-0d10-2eac465b61b1.jpg" width="280" height="280"/>
     <div class="song-title" id="dashboardSongTitle">SWAMP BEAT FEAT. DUCKY</div>
     <div class="song-artist" id="dashboardSongArtist">Tyler the Alligator, Ducky Duck</div>
     <div class="progress-bar-container" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="40" tabindex="0">
      <div class="progress-bar">
       <div class="progress" style="width: 40%;"></div>
      </div>
      <div class="time">
       <span id="currentTime">1:51</span>
       <span id="duration">3:47</span>
      </div>
     </div>
     <div class="controls" role="group" aria-label="Playback controls">
      <i aria-label="Shuffle" class="fas fa-random" tabindex="0" role="button"></i>
      <i aria-label="Previous" class="fas fa-step-backward" tabindex="0" role="button"></i>
      <button aria-label="Play/Pause" class="play-btn" id="playPauseBtn" title="Play/Pause">
       <i class="fas fa-play" id="playPauseIcon"></i>
      </button>
      <i aria-label="Next" class="fas fa-step-forward" tabindex="0" role="button"></i>
      <i aria-label="Repeat" class="fas fa-retweet" tabindex="0" role="button"></i>
     </div>
    </aside>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
     <!-- Now Playing -->
     <div class="now-playing">
       <img alt="Current track artwork" id="footerCover" src="https://storage.googleapis.com/a1aa/image/01c52025-b11c-41df-2eab-ec7b62b1d450.jpg" />
       <div class="now-playing-info">
         <span class="title" id="footerSongTitle">SWAMP BEAT FEAT. DUCKY</span>
         <span class="subtitle" id="footerSongArtist">Tyler the Alligator, Ducky Duck</span>
       </div>
       <button aria-label="Like this song">
         <i class="far fa-heart"></i>
       </button>
     </div>

     <!-- Player Controls -->
     <div class="player-controls">
       <div class="control-buttons">
         <button aria-label="Shuffle">
           <i class="fas fa-random"></i>
         </button>
         <button aria-label="Previous">
           <i class="fas fa-step-backward"></i>
         </button>
         <button aria-label="Play/Pause" class="play-pause" id="footerPlayPauseBtn">
           <i class="fas fa-play" id="footerPlayPauseIcon"></i>
         </button>
         <button aria-label="Next">
           <i class="fas fa-step-forward"></i>
         </button>
         <button aria-label="Repeat">
           <i class="fas fa-redo"></i>
         </button>
       </div>
       <div class="progress-container">
         <span class="time current">1:51</span>
         <div class="progress-bar">
           <div class="progress" style="width: 40%;"></div>
         </div>
         <span class="time total">3:47</span>
       </div>
     </div>

     <!-- Extra Controls -->
     <div class="extra-controls">
       <button aria-label="Lyrics">
         <i class="fas fa-microphone"></i>
       </button>
       <button aria-label="Queue">
         <i class="fas fa-list"></i>
       </button>
       <button aria-label="Connect to a device">
         <i class="fas fa-desktop"></i>
       </button>
       <div class="volume-container">
         <button aria-label="Mute">
           <i class="fas fa-volume-up"></i>
         </button>
         <div class="volume-bar">
           <div class="volume"></div>
         </div>
       </div>
       <button aria-label="Toggle full screen">
         <i class="fas fa-expand"></i>
       </button>
     </div>
    </footer>
  </div>
  <script>
   // Cache DOM elements
   const elements = {
     dashboard: {
       cover: document.getElementById('dashboardCover'),
       title: document.getElementById('dashboardSongTitle'),
       artist: document.getElementById('dashboardSongArtist')
     },
     footer: {
       cover: document.getElementById('footerCover'),
       title: document.getElementById('footerSongTitle'),
       artist: document.getElementById('footerSongArtist')
     },
     playPause: {
       btn: document.getElementById('playPauseBtn'),
       icon: document.getElementById('playPauseIcon'),
       footerBtn: document.getElementById('footerPlayPauseBtn'),
       footerIcon: document.getElementById('footerPlayPauseIcon')
     }
   };

   // Function to update now playing info
   function updateNowPlaying(title, artist, img, song) {
     const data = {
       cover: img,
       title: song || title,
       artist: artist
     };

     // Update dashboard
     elements.dashboard.cover.src = data.cover;
     elements.dashboard.cover.alt = `${title} album cover`;
     elements.dashboard.title.textContent = data.title;
     elements.dashboard.artist.textContent = data.artist;

     // Update footer
     elements.footer.cover.src = data.cover;
     elements.footer.cover.alt = `${title} album cover`;
     elements.footer.title.textContent = data.title;
     elements.footer.artist.textContent = data.artist;
   }

   // Play/Pause toggle function
   function togglePlayPause(icon) {
     icon.classList.toggle('fa-play');
     icon.classList.toggle('fa-pause');
   }

   // Sync play/pause state between dashboard and footer
   function syncPlayPause() {
     togglePlayPause(elements.playPause.icon);
     togglePlayPause(elements.playPause.footerIcon);
   }

   // Event listeners
   elements.playPause.btn.addEventListener('click', syncPlayPause);
   elements.playPause.footerBtn.addEventListener('click', syncPlayPause);

   // Initialize with first playlist info
   const firstPlaylist = document.querySelector('.playlist-item-main');
   if (firstPlaylist) {
     updateNowPlaying(
       firstPlaylist.dataset.title,
       firstPlaylist.dataset.artist,
       firstPlaylist.dataset.img,
       firstPlaylist.dataset.song
     );
   }

   // Add click event to playlist items and new music cards
   const clickableItems = document.querySelectorAll('.playlist-item-main, .new-music-card');
   clickableItems.forEach(item => {
     item.addEventListener('click', () => {
       updateNowPlaying(
         item.dataset.title,
         item.dataset.artist,
         item.dataset.img,
         item.dataset.song
       );
     });
   });

   // Add hover animations to cards
   const cards = document.querySelectorAll('.new-music-card');
   cards.forEach(card => {
     card.style.transition = 'transform 0.2s ease';
     card.addEventListener('mouseenter', () => {
       card.style.transform = 'scale(1.02)';
     });
     card.addEventListener('mouseleave', () => {
       card.style.transform = 'scale(1)';
     });
   });

   // Mobile navigation toggle
   const mobileNavToggle = document.getElementById('mobileNavToggle');
   const sidebar = document.getElementById('sidebar');

   mobileNavToggle.addEventListener('click', () => {
     sidebar.classList.toggle('active');
     const isOpen = sidebar.classList.contains('active');
     mobileNavToggle.setAttribute('aria-expanded', isOpen);
     mobileNavToggle.setAttribute('aria-label', isOpen ? 'Close navigation' : 'Open navigation');
   });

   // Close sidebar when clicking outside
   document.addEventListener('click', (e) => {
     if (sidebar.classList.contains('active') && 
         !sidebar.contains(e.target) && 
         !mobileNavToggle.contains(e.target)) {
       sidebar.classList.remove('active');
       mobileNavToggle.setAttribute('aria-expanded', 'false');
       mobileNavToggle.setAttribute('aria-label', 'Open navigation');
     }
   });

   // Add loading state to images
   document.querySelectorAll('img').forEach(img => {
     img.classList.add('loading');
     img.addEventListener('load', () => {
       img.classList.remove('loading');
     });
   });

   // Resizable Sidebars
   function makeResizable(element, direction) {
     const resizer = document.createElement('div');
     resizer.className = 'drag-handle no-select';
     element.appendChild(resizer);

     let startX, startY, startWidth, startHeight;

     function initDrag(e) {
       startX = e.clientX;
       startY = e.clientY;
       startWidth = parseInt(document.defaultView.getComputedStyle(element).width, 10);
       startHeight = parseInt(document.defaultView.getComputedStyle(element).height, 10);
       document.documentElement.addEventListener('mousemove', doDrag, false);
       document.documentElement.addEventListener('mouseup', stopDrag, false);
     }

     function doDrag(e) {
       if (direction === 'horizontal') {
         const width = startWidth + e.clientX - startX;
         element.style.width = `${Math.max(200, Math.min(400, width))}px`;
       } else if (direction === 'vertical') {
         const height = startHeight + e.clientY - startY;
         element.style.height = `${Math.max(200, Math.min(window.innerHeight - 100, height))}px`;
       }
     }

     function stopDrag() {
       document.documentElement.removeEventListener('mousemove', doDrag, false);
       document.documentElement.removeEventListener('mouseup', stopDrag, false);
     }

     resizer.addEventListener('mousedown', initDrag, false);
   }

   // Initialize resizable elements
   document.addEventListener('DOMContentLoaded', () => {
     // Make sidebars resizable
     const sidebar = document.querySelector('.sidebar');
     const dashboard = document.querySelector('.dashboard');
     const library = document.querySelector('.library');

     if (sidebar) makeResizable(sidebar, 'horizontal');
     if (dashboard) makeResizable(dashboard, 'horizontal');
     if (library) makeResizable(library, 'vertical');

     // Add drag and drop for playlist items
     const playlistList = document.querySelector('.playlist-list');
     if (playlistList) {
       playlistList.addEventListener('dragstart', (e) => {
         if (e.target.classList.contains('playlist-item')) {
           e.target.classList.add('dragging');
           e.dataTransfer.setData('text/plain', e.target.dataset.id);
         }
       });

       playlistList.addEventListener('dragend', (e) => {
         if (e.target.classList.contains('playlist-item')) {
           e.target.classList.remove('dragging');
         }
       });

       playlistList.addEventListener('dragover', (e) => {
         e.preventDefault();
         const draggingItem = document.querySelector('.dragging');
         if (!draggingItem) return;

         const siblings = [...playlistList.querySelectorAll('.playlist-item:not(.dragging)')];
         const nextSibling = siblings.find(sibling => {
           const box = sibling.getBoundingClientRect();
           return e.clientY < box.top + box.height / 2;
         });

         playlistList.insertBefore(draggingItem, nextSibling);
       });
     }

     // Add drag and drop for new music cards
     const newMusicWrapper = document.querySelector('.new-music-scroll-wrapper');
     if (newMusicWrapper) {
       newMusicWrapper.addEventListener('dragstart', (e) => {
         if (e.target.classList.contains('new-music-card')) {
           e.target.classList.add('dragging');
           e.dataTransfer.setData('text/plain', e.target.dataset.id);
         }
       });

       newMusicWrapper.addEventListener('dragend', (e) => {
         if (e.target.classList.contains('new-music-card')) {
           e.target.classList.remove('dragging');
         }
       });

       newMusicWrapper.addEventListener('dragover', (e) => {
         e.preventDefault();
         const draggingItem = document.querySelector('.dragging');
         if (!draggingItem) return;

         const siblings = [...newMusicWrapper.querySelectorAll('.new-music-card:not(.dragging)')];
         const nextSibling = siblings.find(sibling => {
           const box = sibling.getBoundingClientRect();
           return e.clientX < box.left + box.width / 2;
         });

         newMusicWrapper.insertBefore(draggingItem, nextSibling);
       });
     }
   });

   // Layout Management
   function updateLayout() {
     const mainContent = document.querySelector('.main');
     const footer = document.querySelector('.footer');
     const sidebar = document.querySelector('.sidebar');
     const dashboard = document.querySelector('.dashboard');

     // Reset grid columns
     mainContent.style.gridColumn = '2';
     footer.style.gridColumn = '2';

     // Update layout based on sidebar state
     if (sidebar.classList.contains('hidden')) {
       mainContent.style.gridColumn = '1 / span 2';
       footer.style.gridColumn = '1 / span 2';
     }

     // Update layout based on dashboard state
     if (dashboard.classList.contains('hidden')) {
       mainContent.style.gridColumn = '2';
       footer.style.gridColumn = '2';
     }

     // If both are hidden, main content takes full width
     if (sidebar.classList.contains('hidden') && dashboard.classList.contains('hidden')) {
       mainContent.style.gridColumn = '1 / span 3';
       footer.style.gridColumn = '1 / span 3';
     }
   }

   // Toggle buttons functionality
   const sidebarToggleBtn = document.getElementById('sidebarToggle');
   const dashboardToggleBtn = document.getElementById('dashboardToggle');
   const sidebarElement = document.querySelector('.sidebar');
   const dashboardElement = document.querySelector('.dashboard');

   // Toggle sidebar
   sidebarToggleBtn.addEventListener('click', () => {
     sidebarElement.classList.toggle('hidden');
     const isHidden = sidebarElement.classList.contains('hidden');
     sidebarToggleBtn.setAttribute('aria-expanded', !isHidden);
     sidebarToggleBtn.setAttribute('aria-label', isHidden ? 'Show sidebar' : 'Hide sidebar');
     updateLayout();
   });

   // Toggle dashboard
   dashboardToggleBtn.addEventListener('click', () => {
     dashboardElement.classList.toggle('hidden');
     const isHidden = dashboardElement.classList.contains('hidden');
     dashboardToggleBtn.setAttribute('aria-expanded', !isHidden);
     dashboardToggleBtn.setAttribute('aria-label', isHidden ? 'Show dashboard' : 'Hide dashboard');
     updateLayout();
   });

   // Close sidebars when clicking outside
   document.addEventListener('click', (e) => {
     if (!sidebarElement.contains(e.target) && !sidebarToggleBtn.contains(e.target)) {
       sidebarElement.classList.add('hidden');
       sidebarToggleBtn.setAttribute('aria-expanded', 'false');
       sidebarToggleBtn.setAttribute('aria-label', 'Show sidebar');
     }
     
     if (!dashboardElement.contains(e.target) && !dashboardToggleBtn.contains(e.target)) {
       dashboardElement.classList.add('hidden');
       dashboardToggleBtn.setAttribute('aria-expanded', 'false');
       dashboardToggleBtn.setAttribute('aria-label', 'Show dashboard');
     }
     
     updateLayout();
   });

   // Prevent drag and drop from affecting main content
   const mainContent = document.querySelector('.main');
   mainContent.addEventListener('dragover', (e) => {
     e.preventDefault();
     e.stopPropagation();
   });

   mainContent.addEventListener('drop', (e) => {
     e.preventDefault();
     e.stopPropagation();
   });

   // Initialize layout
   updateLayout();

   // Sidebar and Dashboard Management
   class SidePanel {
     constructor(element, toggleBtn, options = {}) {
       this.element = element;
       this.toggleBtn = toggleBtn;
       this.options = {
         side: 'left',
         minWidth: 240,
         maxWidth: 400,
         defaultWidth: 240,
         ...options
       };

       this.isResizing = false;
       this.currentX = 0;
       this.initialWidth = 0;
       
       this.init();
     }

     init() {
       // Add resize handle
       this.resizeHandle = document.createElement('div');
       this.resizeHandle.className = 'resize-handle';
       this.element.appendChild(this.resizeHandle);

       // Setup event listeners
       this.toggleBtn.addEventListener('click', () => this.toggle());
       this.resizeHandle.addEventListener('mousedown', (e) => this.startResize(e));
       document.addEventListener('mousemove', (e) => this.resize(e));
       document.addEventListener('mouseup', () => this.stopResize());

       // Set initial state
       this.element.style.width = `${this.options.defaultWidth}px`;
     }

     toggle() {
       const isHidden = this.element.classList.contains('hidden');
       this.element.classList.toggle('hidden');
       this.element.classList.toggle('visible');
       
       // Update button state
       this.toggleBtn.setAttribute('aria-expanded', !isHidden);
       this.toggleBtn.setAttribute('aria-label', 
         isHidden ? 'Hide sidebar' : 'Show sidebar'
       );

       // Adjust main content
       this.adjustMainContent();
     }

     startResize(e) {
       this.isResizing = true;
       this.currentX = e.clientX;
       this.initialWidth = parseInt(getComputedStyle(this.element).width, 10);
       
       this.resizeHandle.classList.add('active');
       document.body.classList.add('no-select');
     }

     resize(e) {
       if (!this.isResizing) return;

       const delta = this.options.side === 'left' 
         ? e.clientX - this.currentX
         : this.currentX - e.clientX;

       let newWidth = this.initialWidth + delta;
       newWidth = Math.max(this.options.minWidth, Math.min(this.options.maxWidth, newWidth));
       
       this.element.style.width = `${newWidth}px`;
       this.adjustMainContent();
     }

     stopResize() {
       this.isResizing = false;
       this.resizeHandle.classList.remove('active');
       document.body.classList.remove('no-select');
     }

     adjustMainContent() {
       const main = document.querySelector('.main');
       const isHidden = this.element.classList.contains('hidden');
       
       if (this.options.side === 'left') {
         main.style.marginLeft = isHidden ? '0' : `${this.element.offsetWidth}px`;
       } else {
         main.style.marginRight = isHidden ? '0' : `${this.element.offsetWidth}px`;
       }
     }
   }

   // Initialize sidebars when DOM is loaded
   document.addEventListener('DOMContentLoaded', () => {
     const sidebar = new SidePanel(
       document.querySelector('.sidebar'),
       document.querySelector('.sidebar-toggle'),
       { side: 'left', minWidth: 240, maxWidth: 400, defaultWidth: 240 }
     );

     const dashboard = new SidePanel(
       document.querySelector('.dashboard'),
       document.querySelector('.dashboard-toggle'),
       { side: 'right', minWidth: 300, maxWidth: 500, defaultWidth: 300 }
     );

     // Close panels when clicking outside
     document.addEventListener('click', (e) => {
       const clickedSidebar = e.target.closest('.sidebar, .sidebar-toggle');
       const clickedDashboard = e.target.closest('.dashboard, .dashboard-toggle');

       if (!clickedSidebar && !clickedDashboard) {
         sidebar.element.classList.add('hidden');
         dashboard.element.classList.add('hidden');
         sidebar.adjustMainContent();
         dashboard.adjustMainContent();
       }
     });

     // Handle window resize
     let resizeTimeout;
     window.addEventListener('resize', () => {
       clearTimeout(resizeTimeout);
       resizeTimeout = setTimeout(() => {
         sidebar.adjustMainContent();
         dashboard.adjustMainContent();
       }, 100);
     });
   });
  </script>
 </body>
</html>